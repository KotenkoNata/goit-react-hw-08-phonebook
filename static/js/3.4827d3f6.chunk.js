(this["webpackJsonpgoit-react-pg"]=this["webpackJsonpgoit-react-pg"]||[]).push([[3],{114:function(t,e,n){t.exports={contactList:"ContactList_contactList__3MzlG",contactItem:"ContactList_contactItem__EQAbQ",button:"ContactList_button__1RuFy"}},115:function(t,e,n){t.exports={filter:"Filter_filter__1E5tH"}},116:function(t,e,n){t.exports={form:"ContactForm_form__1fuOn",button:"ContactForm_button__1MLZK"}},118:function(t,e,n){"use strict";n.r(e);var a=n(36),c=n(37),r=n(39),o=n(38),s=n(0),u=n(40),i=n(9),l=n(17),f=n.n(l),b=n(22),h=n(19),j=n.n(h),m=n(16),d={addContact:function(t,e){return function(){var n=Object(b.a)(f.a.mark((function n(a){var c,r,o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={name:t,number:e},a(m.a.addContactRequest()),n.prev=2,n.next=5,j.a.post("/contacts",c);case 5:r=n.sent,o=r.data,a(m.a.addContactSuccess(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),a(m.a.addContactError(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},deleteContact:function(t){return function(){var e=Object(b.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(m.a.deleteContactRequest()),e.prev=1,e.next=4,j.a.delete("/contacts/".concat(t));case 4:n(m.a.deleteContactSuccess(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(m.a.deleteContactError(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},fetchContacts:function(){return function(){var t=Object(b.a)(f.a.mark((function t(e){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(m.a.fetchContactRequest()),t.prev=1,t.next=4,j.a.get("/contacts");case 4:n=t.sent,a=n.data,e(m.a.fetchContactSuccess(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(m.a.fetchContactError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},p=n(27),C=function(t){return t.contacts.filter},O=function(t){return t.contacts.items},v={getAllContacts:O,getLoading:function(t){return t.contacts.loading},getFilter:C,getVisibleContacts:Object(p.a)([O,C],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},g=n(114),x=n.n(g),y=n(50),_=n(1),k=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.props,e=t.contacts,n=t.onDeleteContact,a=t.isLoading;return Object(_.jsxs)(_.Fragment,{children:[a&&Object(_.jsx)(y.a,{}),Object(_.jsx)("ul",{className:x.a.contactList,children:e.length?e.map((function(t){var e=t.id,a=t.name,c=t.number;return Object(_.jsxs)("li",{className:x.a.contactItem,children:[a," : ",c,Object(_.jsx)("button",{type:"button",className:x.a.button,onClick:function(){return n(e)},children:"Delete"})]},e)})):Object(_.jsx)("li",{className:x.a.notification,children:"No contact found"})})]})}}]),n}(s.Component),L=Object(i.b)((function(t){return{contacts:v.getVisibleContacts(t),isLoading:v.getLoading(t)}}),(function(t){return{onDeleteContact:function(e){return t(d.deleteContact(e))},fetchContacts:function(){return t(d.fetchContacts())}}}))(k),w=n(115),F=n.n(w),N=function(t){var e=t.filter,n=t.onChange;return Object(_.jsxs)("label",{className:F.a.filter,children:["Find contacts by name"," ",Object(_.jsx)("input",{type:"text",filter:e,onChange:n})]})};N.defaultProps={filter:""};var S=Object(i.b)((function(t){return{filter:v.getFilter(t)}}),(function(t){return{onChange:function(e){return t(m.a.changeFilter(e.target.value))}}}))(N),q=n(3),A=n(116),D=n.n(A),E=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),o=0;o<c;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.handleChange=function(e){var n=e.currentTarget,a=n.name,c=n.value;t.setState(Object(q.a)({},a,c))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,r=t.props,o=r.items,s=r.onSubmit;if(a){var u=o.find((function(t){return t.name===a}));u?alert("".concat(u.name," is already in contacts.")):(s(a,c),t.reset())}},t.reset=function(){t.setState({name:"",number:""})},t}return Object(c.a)(n,[{key:"render",value:function(){return Object(_.jsxs)("form",{className:D.a.form,onSubmit:this.handleSubmit,children:[Object(_.jsxs)("label",{children:["Name",Object(_.jsx)("input",{type:"name",name:"name",value:this.state.name,onChange:this.handleChange,required:!0})]}),Object(_.jsxs)("label",{children:["Number",Object(_.jsx)("input",{type:"number",name:"number",value:this.state.number,onChange:this.handleChange,required:!0})]}),Object(_.jsx)("button",{type:"submit",className:D.a.button,children:"Add contact"})]})}}]),n}(s.Component),R=Object(i.b)((function(t){return{items:v.getAllContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(d.addContact(e,n))}}}))(E),I=function(t){Object(r.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)(u.a,{children:[Object(_.jsx)("h1",{children:"PhoneBook"}),Object(_.jsx)(R,{})]}),Object(_.jsxs)(u.a,{children:[Object(_.jsx)("h2",{children:"Contacts"}),Object(_.jsx)(S,{}),Object(_.jsx)(L,{})]})]})}}]),n}(s.Component);e.default=I}}]);
//# sourceMappingURL=3.4827d3f6.chunk.js.map